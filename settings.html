<div id="img-router-settings" class="img-router-panel">
    <div class="img-router-header">
        <h3>图像生成器</h3>
        <span class="img-router-version">v1.0.0</span>
    </div>

    <div class="img-router-section">
        <h4>API 配置</h4>
        <div class="img-router-field">
            <label for="img-router-api-url">服务器地址</label>
            <input type="text" id="img-router-api-url" placeholder="http://127.0.0.1:10001" />
            <small>img-router 后端服务地址</small>
        </div>
        <div class="img-router-field">
            <label for="img-router-api-key">API 密钥</label>
            <input type="password" id="img-router-api-key" placeholder="请输入 API Key" />
            <small>根据格式自动识别: hf_* (HuggingFace), ms-* (ModelScope), UUID (火山引擎), 30-60字符 (Gitee)</small>
        </div>
        <div class="img-router-field">
            <button id="img-router-test-connection" class="menu_button">测试连接</button>
            <span id="img-router-connection-status"></span>
        </div>
    </div>

    <div class="img-router-section">
        <h4>生成设置</h4>
        <div class="img-router-field">
            <label for="img-router-model">模型选择</label>
            <select id="img-router-model">
                <option value="">默认 (自动)</option>
                <optgroup label="火山引擎">
                    <option value="doubao-seedream-4-5-251128">doubao-seedream-4-5-251128</option>
                    <option value="doubao-seedream-4-0-250828">doubao-seedream-4-0-250828</option>
                </optgroup>
                <optgroup label="Gitee">
                    <option value="z-image-turbo">z-image-turbo</option>
                    <option value="Qwen-Image-Edit">Qwen-Image-Edit</option>
                    <option value="Qwen-Image-Edit-2511">Qwen-Image-Edit-2511</option>
                    <option value="FLUX.1-Kontext-dev">FLUX.1-Kontext-dev</option>
                </optgroup>
                <optgroup label="ModelScope">
                    <option value="Tongyi-MAI/Z-Image-Turbo">Tongyi-MAI/Z-Image-Turbo</option>
                    <option value="Qwen/Qwen-Image-Edit-2511">Qwen/Qwen-Image-Edit-2511</option>
                </optgroup>
                <optgroup label="HuggingFace">
                    <option value="z-image-turbo">z-image-turbo</option>
                    <option value="Qwen-Image-Edit-2511">Qwen-Image-Edit-2511</option>
                </optgroup>
            </select>
        </div>
        <div class="img-router-field">
            <label for="img-router-size">图片尺寸</label>
            <select id="img-router-size">
                <option value="">默认</option>
                <option value="512x512">512x512</option>
                <option value="768x768">768x768</option>
                <option value="1024x1024">1024x1024</option>
                <option value="1328x1328">1328x1328</option>
                <option value="2048x2048">2048x2048</option>
                <option value="2K">2K</option>
            </select>
        </div>
        <div class="img-router-field">
            <label>
                <input type="checkbox" id="img-router-stream" checked />
                启用流式响应
            </label>
        </div>
    </div>

    <div class="img-router-section">
        <h4>参考图片 (图生图)</h4>
        <div class="img-router-field">
            <div id="img-router-upload-area" class="img-router-upload-zone">
                <div class="upload-placeholder">
                    <i class="fa-solid fa-cloud-arrow-up"></i>
                    <p>点击或拖拽图片到此处</p>
                    <small>支持 PNG, JPG, WebP (最多3张)</small>
                </div>
                <input type="file" id="img-router-file-input" accept="image/*" multiple hidden />
            </div>
            <div id="img-router-preview-container" class="img-router-preview-list"></div>
            <button id="img-router-clear-images" class="menu_button" style="display:none;">清除所有图片</button>
        </div>
    </div>

    <div class="img-router-section">
        <h4>快速生成</h4>
        <div class="img-router-field">
            <label for="img-router-prompt">提示词</label>
            <textarea id="img-router-prompt" rows="3" placeholder="请输入图片描述..."></textarea>
        </div>
        <div class="img-router-field">
            <button id="img-router-generate" class="menu_button menu_button_icon">
                <i class="fa-solid fa-wand-magic-sparkles"></i>
                生成图片
            </button>
        </div>
        <div id="img-router-result" class="img-router-result"></div>
    </div>
</div>
